(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5191],{1512:function(e,s,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/mintstation/validator/mainnet",function(){return n(1441)}])},1441:function(e,s,n){"use strict";n.r(s),n.d(s,{__toc:function(){return o}});var i=n(5893),t=n(2673),r=n(2643);let o=[{depth:2,value:"Setting up the Node",id:"setting-up-the-node"},{depth:3,value:"Initialize the chain",id:"initialize-the-chain"},{depth:3,value:"Download the genesis file",id:"download-the-genesis-file"},{depth:3,value:"Set seeds",id:"set-seeds"},{depth:3,value:"Set minimum gas prices",id:"set-minimum-gas-prices"},{depth:3,value:"Create (or restore) a local key pair",id:"create-or-restore-a-local-key-pair"},{depth:3,value:"Get some tokens",id:"get-some-tokens"},{depth:2,value:"Syncing the node",id:"syncing-the-node"},{depth:3,value:"From genesis",id:"from-genesis"},{depth:2,value:"Backup critical files",id:"backup-critical-files"}];function _createMdxContent(e){let s=Object.assign({h1:"h1",p:"p",a:"a",h2:"h2",h3:"h3",strong:"strong",pre:"pre",code:"code",span:"span",ul:"ul",li:"li"},(0,r.a)(),e.components);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(s.h1,{children:"Joining Mainnet"}),"\n",(0,i.jsxs)(s.p,{children:["To get up and running with the mintstationd binary, please follow the instructions ",(0,i.jsx)(s.a,{href:"../cli/setup",children:"here"}),"."]}),"\n",(0,i.jsx)(s.h2,{id:"setting-up-the-node",children:"Setting up the Node"}),"\n",(0,i.jsx)(s.p,{children:"These instructions will direct you on how to initialize your node, synchronize to the network and upgrade your node to a validator."}),"\n",(0,i.jsx)(s.h3,{id:"initialize-the-chain",children:(0,i.jsx)(s.strong,{children:"Initialize the chain"})}),"\n",(0,i.jsx)(s.pre,{"data-language":"bash","data-theme":"default",children:(0,i.jsxs)(s.code,{"data-language":"bash","data-theme":"default",children:[(0,i.jsxs)(s.span,{className:"line",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"CHAIN_ID"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-string)"},children:"mintstation-1"})]}),"\n",(0,i.jsxs)(s.span,{className:"line",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"MONIKER_NAME"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"=<"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-string)"},children:"moniker-nam"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"e"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:">"})]}),"\n",(0,i.jsxs)(s.span,{className:"line",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"mintstationd"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-string)"},children:"init"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"$MONIKER_NAME"'}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-string)"},children:"--chain-id"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" $CHAIN_ID"})]})]})}),"\n",(0,i.jsxs)(s.p,{children:["This will generate the following files in ",(0,i.jsx)(s.code,{children:"~/.mintstationd/config/"})]}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsx)(s.li,{children:(0,i.jsx)(s.code,{children:"genesis.json"})}),"\n",(0,i.jsx)(s.li,{children:(0,i.jsx)(s.code,{children:"node_key.json"})}),"\n",(0,i.jsx)(s.li,{children:(0,i.jsx)(s.code,{children:"priv_validator_key.json"})}),"\n"]}),"\n",(0,i.jsx)(s.h3,{id:"download-the-genesis-file",children:"Download the genesis file"}),"\n",(0,i.jsx)(s.p,{children:"Download the the geneis file."}),"\n",(0,i.jsx)(s.pre,{"data-language":"bash","data-theme":"default",children:(0,i.jsxs)(s.code,{"data-language":"bash","data-theme":"default",children:[(0,i.jsx)(s.span,{className:"line",children:(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-comment)"},children:"# Download genesis.json file (https://github.com/cosmostation/mintstation)"})}),"\n",(0,i.jsxs)(s.span,{className:"line",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"rm"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-string)"},children:"~/.mintstationd/config/genesis.json"})]}),"\n",(0,i.jsxs)(s.span,{className:"line",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"mv"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-string)"},children:"genesis.json"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" $HOME"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-string)"},children:"/.mintstationd/config/genesis.json"})]})]})}),"\n",(0,i.jsxs)(s.p,{children:["This will replace the genesis file created using ",(0,i.jsx)(s.code,{children:"mintstationd init"})," command with the mainnet ",(0,i.jsx)(s.code,{children:"genesis.json"}),"."]}),"\n",(0,i.jsx)(s.h3,{id:"set-seeds",children:(0,i.jsx)(s.strong,{children:"Set seeds"})}),"\n",(0,i.jsxs)(s.p,{children:["We can set the ",(0,i.jsx)(s.code,{children:"seeds"})," by retrieving the list of seeds from the mintstation repo and using ",(0,i.jsx)(s.code,{children:"sed"})," to inject into ",(0,i.jsx)(s.code,{children:"~/.mintstationd/config/config.toml"}),":"]}),"\n",(0,i.jsx)(s.pre,{"data-language":"bash","data-theme":"default",children:(0,i.jsxs)(s.code,{"data-language":"bash","data-theme":"default",children:[(0,i.jsx)(s.span,{className:"line",children:(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-comment)"},children:"# Set the base repo URL for mainnet & retrieve seeds"})}),"\n",(0,i.jsxs)(s.span,{className:"line",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"CHAIN_REPO"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"https://raw.githubusercontent.com/cosmostation/mintstation/main/$CHAIN_ID"'}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:"&&"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" \\"})]}),"\n",(0,i.jsxs)(s.span,{className:"line",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"export"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" SEEDS"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"$('}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"curl"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:" "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-string)"},children:"-sL"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:' "$CHAIN_REPO/seeds.txt")"'})]}),"\n",(0,i.jsx)(s.span,{className:"line",children:" "}),"\n",(0,i.jsx)(s.span,{className:"line",children:(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-comment)"},children:"# Add seeds to config.toml"})}),"\n",(0,i.jsxs)(s.span,{className:"line",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"sed"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-string)"},children:"-i.bak"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-string)"},children:"-e"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"s/^seeds *=.*/seeds = \\"$SEEDS\\"/"'}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-string)"},children:"~/.mintstationd/config/config.toml"})]})]})}),"\n",(0,i.jsx)(s.h3,{id:"set-minimum-gas-prices",children:"Set minimum gas prices"}),"\n",(0,i.jsxs)(s.p,{children:["For RPC nodes and Validator nodes we recommend setting the following ",(0,i.jsx)(s.code,{children:"minimum-gas-prices"}),". As we are a permissionless wasm chain, this setting will help protect against contract spam and potential wasm contract attack vectors."]}),"\n",(0,i.jsxs)(s.p,{children:["In ",(0,i.jsx)(s.code,{children:"$HOME/.mintstationd/config/app.toml"}),", set minimum gas prices:"]}),"\n",(0,i.jsx)(s.pre,{"data-language":"bash","data-theme":"default",children:(0,i.jsx)(s.code,{"data-language":"bash","data-theme":"default",children:(0,i.jsxs)(s.span,{className:"line",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"sed"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-string)"},children:"-i.bak"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-string)"},children:"-e"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"s/^minimum-gas-prices *=.*/minimum-gas-prices = \\"0.0025umint\\"/"'}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-string)"},children:"~/.mintstationd/config/app.toml"})]})})}),"\n",(0,i.jsx)(s.h3,{id:"create-or-restore-a-local-key-pair",children:(0,i.jsx)(s.strong,{children:"Create (or restore) a local key pair"})}),"\n",(0,i.jsx)(s.p,{children:"Either create a new key pair, or restore an existing wallet for your validator:"}),"\n",(0,i.jsx)(s.pre,{"data-language":"bash","data-theme":"default",children:(0,i.jsxs)(s.code,{"data-language":"bash","data-theme":"default",children:[(0,i.jsxs)(s.span,{className:"line",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"mintstationd"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-string)"},children:"keys"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-string)"},children:"add"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"<"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-string)"},children:"key-nam"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"e"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:">"})]}),"\n",(0,i.jsx)(s.span,{className:"line",children:" "}),"\n",(0,i.jsx)(s.span,{className:"line",children:(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-comment)"},children:"# OR"})}),"\n",(0,i.jsx)(s.span,{className:"line",children:" "}),"\n",(0,i.jsx)(s.span,{className:"line",children:(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-comment)"},children:"# Restore existing mint wallet with mnemonic seed phrase."})}),"\n",(0,i.jsx)(s.span,{className:"line",children:(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-comment)"},children:"# You will be prompted to enter mnemonic seed."})}),"\n",(0,i.jsxs)(s.span,{className:"line",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"mintstationd"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-string)"},children:"keys"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-string)"},children:"add"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"<"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-string)"},children:"key-nam"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"e"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:">"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-string)"},children:"--recover"})]}),"\n",(0,i.jsx)(s.span,{className:"line",children:" "}),"\n",(0,i.jsx)(s.span,{className:"line",children:(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-comment)"},children:"# Query the keystore for your public address"})}),"\n",(0,i.jsxs)(s.span,{className:"line",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"mintstationd"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-string)"},children:"keys"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-string)"},children:"show"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"<"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-string)"},children:"key-nam"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"e"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:">"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-string)"},children:"-a"})]})]})}),"\n",(0,i.jsxs)(s.p,{children:["Replace ",(0,i.jsx)(s.code,{children:"<key-name>"})," with a key name of your choosing."]}),"\n",(0,i.jsx)(s.p,{children:"After creating a new key, the key information and seed phrase will be shown. It is essential to write this seed phrase down and keep it in a safe place. The seed phrase is the only way to restore your keys."}),"\n",(0,i.jsx)(s.h3,{id:"get-some-tokens",children:(0,i.jsx)(s.strong,{children:"Get some tokens"})}),"\n",(0,i.jsxs)(s.p,{children:["Delegations ",(0,i.jsx)(s.a,{href:"delegations",children:"here"}),"."]}),"\n",(0,i.jsx)(s.h2,{id:"syncing-the-node",children:"Syncing the node"}),"\n",(0,i.jsx)(s.p,{children:"There are methods to sync a node to the network:"}),"\n",(0,i.jsx)(s.h3,{id:"from-genesis",children:"From genesis"}),"\n",(0,i.jsxs)(s.p,{children:["After starting the ",(0,i.jsx)(s.code,{children:"mintstationd"})," daemon, the chain will begin to sync to the network. The time to sync to the network will vary depending on your setup and the current size of the blockchain, but could take a very long time. To query the status of your node:"]}),"\n",(0,i.jsx)(s.pre,{"data-language":"bash","data-theme":"default",children:(0,i.jsxs)(s.code,{"data-language":"bash","data-theme":"default",children:[(0,i.jsx)(s.span,{className:"line",children:(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-comment)"},children:"# Query via the RPC (default port: 26657)"})}),"\n",(0,i.jsxs)(s.span,{className:"line",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"curl"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-string)"},children:"http://localhost:26657/status"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"|"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"jq"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-string)"},children:".result.sync_info.catching_up"})]})]})}),"\n",(0,i.jsxs)(s.p,{children:["If this command returns ",(0,i.jsx)(s.code,{children:"true"})," then your node is still catching up. If it returns ",(0,i.jsx)(s.code,{children:"false"})," then your node has caught up to the network current block and you are safe to proceed to upgrade to a validator node."]}),"\n",(0,i.jsxs)(s.p,{children:["When syncing from genesis, you will need to perform upgrades while catching up to the head. ",(0,i.jsx)(s.code,{children:"mintstation-1"})," upgrades are detailed in ",(0,i.jsx)(s.a,{href:"upgrade",children:"node-upgrade.md"})," along with a description of each type of upgrade."]}),"\n",(0,i.jsx)(s.h2,{id:"backup-critical-files",children:"Backup critical files"}),"\n",(0,i.jsxs)(s.p,{children:["There are certain files that you need to backup to be able to restore your validator if, for some reason, it damaged or lost in some way. Please make a secure backup of the following files located in ",(0,i.jsx)(s.code,{children:"~/.mintstationd/config/"}),":"]}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsx)(s.li,{children:(0,i.jsx)(s.code,{children:"priv_validator_key.json"})}),"\n",(0,i.jsx)(s.li,{children:(0,i.jsx)(s.code,{children:"node_key.json"})}),"\n"]}),"\n",(0,i.jsx)(s.p,{children:"It is recommended that you encrypt the backup of these files."})]})}s.default=(0,t.j)({MDXContent:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{wrapper:s}=Object.assign({},(0,r.a)(),e.components);return s?(0,i.jsx)(s,{...e,children:(0,i.jsx)(_createMdxContent,{...e})}):_createMdxContent(e)},pageOpts:{filePath:"pages/mintstation/validator/mainnet.mdx",route:"/mintstation/validator/mainnet",timestamp:1698218973e3,title:"Joining Mainnet",headings:o},pageNextRoute:"/mintstation/validator/mainnet"})}},function(e){e.O(0,[2673,9774,2888,179],function(){return e(e.s=1512)}),_N_E=e.O()}]);